{"modules":[{"id":"55039009-bb83-4fb5-95c5-bfe9a4e203b8","type":"SetVoice","branches":[{"condition":"Success","transition":"c946dbd6-2a3a-475d-85cf-cde7edaf93d8"}],"parameters":[{"name":"GlobalVoice","value":"Matthew"}],"metadata":{"position":{"x":141,"y":57},"overrideConsoleVoice":false,"defaultVoice":"Conversational"}},{"id":"c946dbd6-2a3a-475d-85cf-cde7edaf93d8","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"1856aea3-72d2-4999-a259-3377ee764026"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":360,"y":60}}},{"id":"3f76b6f1-2e04-4e0b-9834-0a1a915aa340","type":"PlayPrompt","branches":[{"condition":"Success","transition":"ec2bb894-fbbb-44ab-a63b-44ba7a11f2a4"}],"parameters":[{"name":"Text","value":"I'm sorry, I didn't receive a response, please call back and try again.","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":1285,"y":325},"useDynamic":false}},{"id":"1856aea3-72d2-4999-a259-3377ee764026","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"74830189-cb59-4e85-b408-8250876508d4"},{"condition":"Error","transition":"7e57d826-13e2-4007-aa3a-7d7d58261acc"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:051711730106:function:create_names","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":588,"y":61},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"74830189-cb59-4e85-b408-8250876508d4","type":"SetAttributes","branches":[{"condition":"Success","transition":"d49fb5b1-13d6-4fd5-b544-bfb6b1c08518"},{"condition":"Error","transition":"7e57d826-13e2-4007-aa3a-7d7d58261acc"}],"parameters":[{"name":"Attribute","value":"$.External.first_name","key":"first_name","namespace":"External"},{"name":"Attribute","value":"$.External.last_name","key":"last_name","namespace":"External"}],"metadata":{"position":{"x":813,"y":60}}},{"id":"d49fb5b1-13d6-4fd5-b544-bfb6b1c08518","type":"PlayPrompt","branches":[{"condition":"Success","transition":"70c6f518-4d7f-4231-aedb-035a2c9341eb"}],"parameters":[{"name":"Text","value":"Welcome to Josh's Amazon Connect instance. It looks like your phone number is <say-as interpret-as=\"telephone\">$.CustomerEndpoint.Address</say-as>, I'm going to create a radnomly generated name for you.<break time=\"1s\"/>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":1035,"y":65},"useDynamic":false}},{"id":"7e57d826-13e2-4007-aa3a-7d7d58261acc","type":"PlayPrompt","branches":[{"condition":"Success","transition":"ec2bb894-fbbb-44ab-a63b-44ba7a11f2a4"}],"parameters":[{"name":"Text","value":"I'm sorry, it looks like I ran into an issue, the call will now disconnect.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":875,"y":520},"useDynamic":false}},{"id":"70c6f518-4d7f-4231-aedb-035a2c9341eb","type":"Loop","branches":[{"condition":"Looping","transition":"06afc41c-5e17-4e75-9321-74844e8f56a7"},{"condition":"Complete","transition":"3f76b6f1-2e04-4e0b-9834-0a1a915aa340"}],"parameters":[{"name":"LoopCount","value":"3"}],"metadata":{"position":{"x":1267,"y":62},"useDynamic":false}},{"id":"ec2bb894-fbbb-44ab-a63b-44ba7a11f2a4","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1734,"y":543}}},{"id":"06afc41c-5e17-4e75-9321-74844e8f56a7","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"dad1d218-aadb-4735-886d-28617b5bbc4f"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"ec2bb894-fbbb-44ab-a63b-44ba7a11f2a4"},{"condition":"Timeout","transition":"70c6f518-4d7f-4231-aedb-035a2c9341eb"},{"condition":"NoMatch","transition":"ec2bb894-fbbb-44ab-a63b-44ba7a11f2a4"},{"condition":"Error","transition":"7e57d826-13e2-4007-aa3a-7d7d58261acc"}],"parameters":[{"name":"Text","value":"Okay, would you like to hear your name? Press one to hear your name, or two to disconnect.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":1503,"y":63},"conditionMetadata":[{"id":"6a4870a3-278b-4d11-ab3d-468840aa37fb","value":"1"},{"id":"91f6f9e9-a285-4332-a0a0-503cf09485d4","value":"2"}],"useDynamic":false,"useDynamicLexBotArn":false},"target":"Digits"},{"id":"dad1d218-aadb-4735-886d-28617b5bbc4f","type":"PlayPrompt","branches":[{"condition":"Success","transition":"ec2bb894-fbbb-44ab-a63b-44ba7a11f2a4"}],"parameters":[{"name":"Text","value":"Your first name is $.External.first_name and your last name is $.External.last_name. Your full name is $.External.first_name $.External.last_name.\nThanks for calling in, goodbye.","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":1762,"y":54},"useDynamic":false}}],"version":"1","type":"contactFlow","start":"55039009-bb83-4fb5-95c5-bfe9a4e203b8","metadata":{"entryPointPosition":{"x":15,"y":59},"snapToGrid":false,"name":"Recite Names","description":"Recite the name back to the caller","type":"contactFlow","status":"published","hash":"83bc2f0e05022ff9394d65d8e609ee75c3da084690d398120326bb33010e2c59"}}